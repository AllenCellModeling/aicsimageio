

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to aicsimageio’s documentation! &mdash; aicsimageio 3.2.3 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> aicsimageio
          

          
          </a>

          
            
            
              <div class="version">
                3.2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#stable-release">Stable release</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-sources">From sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Package modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aicsimageio.html">aicsimageio package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="aicsimageio.readers.html">aicsimageio.readers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aicsimageio.vendor.html">aicsimageio.vendor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aicsimageio.writers.html">aicsimageio.writers package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio.aics_image">aicsimageio.aics_image module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio.buffer_reader">aicsimageio.buffer_reader module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio.constants">aicsimageio.constants module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio.dask_utils">aicsimageio.dask_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio.exceptions">aicsimageio.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio.transforms">aicsimageio.transforms module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio.types">aicsimageio.types module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aicsimageio.html#module-aicsimageio">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#results">Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="benchmarks.html#configs">Configs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#discussion">Discussion</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#historical-benchmarks">Historical Benchmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#running-the-tests">Running the Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#deploying">Deploying</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-2-3-2020-06-23">v3.2.3 (2020-06-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#new">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-2-2-2020-06-11">v3.2.2 (2020-06-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id2">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-2-1-2020-05-26">v3.2.1 (2020-05-26)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#fix">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-2-0-2020-05-13">v3.2.0 (2020-05-13)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id7">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id11">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id14">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-1-4-2020-03-21">v3.1.4 (2020-03-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id18">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id20">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-1-3-2020-03-11">v3.1.3 (2020-03-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id22">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id24">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-1-2-2020-03-06">v3.1.2 (2020-03-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id26">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id28">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-1-1-2020-02-21">v3.1.1 (2020-02-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id31">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id34">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-1-0-2020-02-03">v3.1.0 (2020-02-03)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id37">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id39">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-0-7-2019-11-05">v3.0.7 (2019-11-05)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-0-6-2019-10-31">v3.0.6 (2019-10-31)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id43">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id45">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-0-5-2019-10-30">v3.0.5 (2019-10-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-0-4-2019-10-28">v3.0.4 (2019-10-28)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-0-3-2019-10-25">v3.0.3 (2019-10-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id48">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id49">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-0-2-2019-10-11">v3.0.2 (2019-10-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-0-1-2019-10-04">v3.0.1 (2019-10-04)</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">aicsimageio</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to aicsimageio’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-aicsimageio-s-documentation">
<h1>Welcome to aicsimageio’s documentation!<a class="headerlink" href="#welcome-to-aicsimageio-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="aicsimageio">
<h1>AICSImageIO<a class="headerlink" href="#aicsimageio" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://github.com/AllenCellModeling/aicsimageio/actions"><img alt="Build Status" src="https://github.com/AllenCellModeling/aicsimageio/workflows/Build%20Master/badge.svg" /></a>
<a class="reference external image-reference" href="https://allencellmodeling.github.io/aicsimageio"><img alt="Documentation" src="https://github.com/AllenCellModeling/aicsimageio/workflows/Documentation/badge.svg" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/AllenCellModeling/aicsimageio"><img alt="Code Coverage" src="https://codecov.io/gh/AllenCellModeling/aicsimageio/branch/master/graph/badge.svg" /></a>
<p>Delayed Parallel Image Reading for Microscopy Images in Python</p>
<hr class="docutils" />
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Supports reading metadata and imaging data for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CZI</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OME-TIFF</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIFF</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIF</span></code></p></li>
<li><p>Any additional format supported by <cite>``imageio`</cite> &lt;<a class="reference external" href="https://github.com/imageio/imageio">https://github.com/imageio/imageio</a>&gt;`_</p></li>
</ul>
</li>
<li><p>Supports writing metadata and imaging data for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">OME-TIFF</span></code></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p><strong>Stable Release:</strong> <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">aicsimageio</span></code><span class="raw-html-m2r"><br></span>
<strong>Development Head:</strong> <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">git+https://github.com/AllenCellModeling/aicsimageio.git</span></code></p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>For full package documentation please visit
<a class="reference external" href="https://allencellmodeling.github.io/aicsimageio/index.html">allencellmodeling.github.io/aicsimageio</a>.</p>
</div>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<div class="section" id="full-image-reading">
<h3>Full Image Reading<a class="headerlink" href="#full-image-reading" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aicsimageio</span> <span class="kn">import</span> <span class="n">AICSImage</span><span class="p">,</span> <span class="n">imread</span>

<span class="c1"># Get an AICSImage object</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;my_file.tiff&quot;</span><span class="p">)</span>
<span class="n">img</span><span class="o">.</span><span class="n">data</span>  <span class="c1"># returns 6D STCZYX numpy array</span>
<span class="n">img</span><span class="o">.</span><span class="n">dims</span>  <span class="c1"># returns string &quot;STCZYX&quot;</span>
<span class="n">img</span><span class="o">.</span><span class="n">shape</span>  <span class="c1"># returns tuple of dimension sizes in STCZYX order</span>

<span class="c1"># Get 6D STCZYX numpy array</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="s2">&quot;my_file.tiff&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="delayed-image-slice-reading">
<h3>Delayed Image Slice Reading<a class="headerlink" href="#delayed-image-slice-reading" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aicsimageio</span> <span class="kn">import</span> <span class="n">AICSImage</span><span class="p">,</span> <span class="n">imread_dask</span>

<span class="c1"># Get an AICSImage object</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;my_file.tiff&quot;</span><span class="p">)</span>
<span class="n">img</span><span class="o">.</span><span class="n">dask_data</span>  <span class="c1"># returns 6D STCZYX dask array</span>
<span class="n">img</span><span class="o">.</span><span class="n">dims</span>  <span class="c1"># returns string &quot;STCZYX&quot;</span>
<span class="n">img</span><span class="o">.</span><span class="n">shape</span>  <span class="c1"># returns tuple of dimension sizes in STCZYX order</span>
<span class="n">img</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="s2">&quot;STC&quot;</span><span class="p">)</span>  <span class="c1"># returns tuple of dimensions sizes for just STC</span>
<span class="n">img</span><span class="o">.</span><span class="n">get_image_data</span><span class="p">(</span><span class="s2">&quot;CZYX&quot;</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># returns 4D CZYX numpy array</span>
<span class="n">img</span><span class="o">.</span><span class="n">get_image_dask_data</span><span class="p">(</span><span class="s2">&quot;CZYX&quot;</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># returns 4D CZYX dask array</span>

<span class="c1"># Read specified portion of dask array</span>
<span class="n">lazy_s0t0</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_image_dask_data</span><span class="p">(</span><span class="s2">&quot;CZYX&quot;</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># returns 4D CZYX dask array</span>
<span class="n">s0t0</span> <span class="o">=</span> <span class="n">lazy_s0t0</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>  <span class="c1"># returns 4D CZYX numpy array</span>

<span class="c1"># Or use normal numpy array slicing</span>
<span class="n">lazy_data</span> <span class="o">=</span> <span class="n">imread_dask</span><span class="p">(</span><span class="s2">&quot;my_file.tiff&quot;</span><span class="p">)</span>
<span class="n">lazy_s0t0</span> <span class="o">=</span> <span class="n">lazy_data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">s0t0</span> <span class="o">=</span> <span class="n">lazy_s0t0</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="speed-up-io-and-processing-with-dask-clients-and-clusters">
<h3>Speed up IO and Processing with Dask Clients and Clusters<a class="headerlink" href="#speed-up-io-and-processing-with-dask-clients-and-clusters" title="Permalink to this headline">¶</a></h3>
<p>If you have already spun up a <code class="docutils literal notranslate"><span class="pre">distributed.Client</span></code> object in your Python process or
your processing is running on a distributed worker, great, you will naturally gain IO
and processing gains. If you haven’t done that or don’t know what either of those are,
there are some utility functions to help construct and manage these for you.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aicsimageio</span> <span class="kn">import</span> <span class="n">AICSImage</span><span class="p">,</span> <span class="n">dask_utils</span>

<span class="c1"># Create a local dask cluster and client for the duration of the context manager</span>
<span class="k">with</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;filename.ome.tiff&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">img</span><span class="p">:</span>
    <span class="c1"># do your work like normal</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">dask_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Specify arguments for the local cluster initialization</span>
<span class="k">with</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;filename.ome.tiff&quot;</span><span class="p">,</span> <span class="n">dask_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;nworkers&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span> <span class="k">as</span> <span class="n">img</span><span class="p">:</span>
    <span class="c1"># do your work like normal</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">dask_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Connect to a dask client for the duration of the context manager</span>
<span class="k">with</span> <span class="n">AICSImage</span><span class="p">(</span>
    <span class="s2">&quot;filename.ome.tiff&quot;</span><span class="p">,</span>
    <span class="n">dask_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;tcp://localhost:12345&quot;</span><span class="p">}</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">img</span><span class="p">:</span>
    <span class="c1"># do your work like normal</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">dask_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Or spawn a local cluster and / or connect to a client outside of a context manager</span>
<span class="c1"># This uses the same &quot;address&quot; and dask kwargs as above</span>
<span class="c1"># If you pass an address in, it will create and shutdown the client</span>
<span class="c1"># and no cluster will be created.</span>
<span class="c1"># Similar to AICSImage, these objects will be connected and useable</span>
<span class="c1"># for the lifespan of the context manager.</span>
<span class="k">with</span> <span class="n">dask_utils</span><span class="o">.</span><span class="n">cluster_and_client</span><span class="p">()</span> <span class="k">as</span> <span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>

    <span class="n">img1</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;1.tiff&quot;</span><span class="p">)</span>
    <span class="n">img2</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;2.tiff&quot;</span><span class="p">)</span>
    <span class="n">img3</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;3.tiff&quot;</span><span class="p">)</span>

    <span class="c1"># Do your image processing work</span>
</pre></div>
</div>
<p><strong>Note:</strong> The <code class="docutils literal notranslate"><span class="pre">AICSImage</span></code> context manager and the <code class="docutils literal notranslate"><span class="pre">dask_utils</span></code> module require that the
processing machine or container have networking capabilities enabled to function
properly.</p>
</div>
<div class="section" id="metadata-reading">
<h3>Metadata Reading<a class="headerlink" href="#metadata-reading" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aicsimageio</span> <span class="kn">import</span> <span class="n">AICSImage</span>

<span class="c1"># Get an AICSImage object</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;my_file.tiff&quot;</span><span class="p">)</span>
<span class="n">img</span><span class="o">.</span><span class="n">metadata</span>  <span class="c1"># returns the metadata object for this image type</span>
<span class="n">img</span><span class="o">.</span><span class="n">get_channel_names</span><span class="p">()</span>  <span class="c1"># returns a list of string channel names found in the metadata</span>
</pre></div>
</div>
</div>
<div class="section" id="napari-interactive-viewer">
<h3>Napari Interactive Viewer<a class="headerlink" href="#napari-interactive-viewer" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/Napari/napari">napari</a> is a fast, interactive, multi-dimensional
image viewer for python and it is pretty useful for imaging data that this package
tends to interact with.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aicsimageio</span> <span class="kn">import</span> <span class="n">AICSImage</span>

<span class="c1"># Get an AICSImage object</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="s2">&quot;my_file.tiff&quot;</span><span class="p">)</span>
<span class="n">img</span><span class="o">.</span><span class="n">view_napari</span><span class="p">()</span>  <span class="c1"># launches napari GUI and viewer</span>
</pre></div>
</div>
<p>We have also released
<a class="reference external" href="https://github.com/AllenCellModeling/napari-aicsimageio">napari-aicsimageio</a>, a plugin
that allows use of all the functionality described here, but in the <code class="docutils literal notranslate"><span class="pre">napari</span></code> default
viewer itself.</p>
</div>
</div>
<div class="section" id="performance-considerations">
<h2>Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>If your image fits into memory and you are not using a distributed cluster:</strong> use
<code class="docutils literal notranslate"><span class="pre">AICSImage.data</span></code> or <code class="docutils literal notranslate"><span class="pre">Reader.data</span></code> which are generally optimal.</p></li>
<li><p><strong>If your image is too large to fit into memory:</strong> use <code class="docutils literal notranslate"><span class="pre">AICSImage.get_image_data</span></code> to
get a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array or <code class="docutils literal notranslate"><span class="pre">AICSImage.get_image_dask_data</span></code> to get a <code class="docutils literal notranslate"><span class="pre">dask</span></code> array for a
specific chunk of data from the image.</p></li>
<li><p><strong>If you are using a distributed cluster:</strong> all functions and properties in the
library are generally optimal.</p></li>
<li><p><strong>If you are using a distributed cluster with less than ~6 workers:</strong> use
<code class="docutils literal notranslate"><span class="pre">aicsimageio.use_dask(False)</span></code>. From our testing, 6 workers is the bare minimum for
read time reduction compared to no cluster usage.</p></li>
<li><p>When using a <code class="docutils literal notranslate"><span class="pre">dask</span></code> array, it is important to know when to <code class="docutils literal notranslate"><span class="pre">compute</span></code> or
<code class="docutils literal notranslate"><span class="pre">persist</span></code> data and when to keep chaining computation.
<a class="reference external" href="https://stackoverflow.com/questions/41806850/dask-difference-between-client-persist-and-client-compute#answer-41807160">Here is a good rundown on the trade offs.</a></p></li>
</ul>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Image <code class="docutils literal notranslate"><span class="pre">data</span></code> and <code class="docutils literal notranslate"><span class="pre">dask_data</span></code> are always returned as six dimensional in dimension
order <code class="docutils literal notranslate"><span class="pre">STCZYX</span></code> or <code class="docutils literal notranslate"><span class="pre">Scene</span></code>, <code class="docutils literal notranslate"><span class="pre">Time</span></code>, <code class="docutils literal notranslate"><span class="pre">Channel</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">Y</span></code>, and <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p>Each file format may use a different metadata parser it is dependent on the reader’s
implementation.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">AICSImage</span></code> object will only pull the <code class="docutils literal notranslate"><span class="pre">Scene</span></code>, <code class="docutils literal notranslate"><span class="pre">Time</span></code>, <code class="docutils literal notranslate"><span class="pre">Channel</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>
dimensions from the reader.
If your file has dimensions outside of those, use the base reader classes <code class="docutils literal notranslate"><span class="pre">CziReader</span></code>,
<code class="docutils literal notranslate"><span class="pre">OmeTiffReader</span></code>, <code class="docutils literal notranslate"><span class="pre">TiffReader</span></code>, or <code class="docutils literal notranslate"><span class="pre">DefaultReader</span></code>.</p></li>
<li><p>We make some choices for the user based off the image data during <code class="docutils literal notranslate"><span class="pre">img.view_napari</span></code>.
If you don’t want this behavior, simply pass the <code class="docutils literal notranslate"><span class="pre">img.dask_data</span></code> into
<code class="docutils literal notranslate"><span class="pre">napari.view_image</span></code> instead.</p></li>
</ul>
</div>
<div class="section" id="development">
<h2>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="CONTRIBUTING.md">CONTRIBUTING.md</a> for information related to developing the code.</p>
<p><em>Free software: BSD-3-Clause</em></p>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Allen Institute for Cell Science

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>