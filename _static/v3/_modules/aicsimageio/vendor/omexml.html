<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>aicsimageio.vendor.omexml &mdash; aicsimageio 3.3.7 documentation</title><link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> aicsimageio
          </a>
              <div class="version">
                3.3.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../installation.html#stable-release">Stable release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation.html#from-sources">From sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">Package modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../aicsimageio.html">aicsimageio package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../aicsimageio.readers.html">aicsimageio.readers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../aicsimageio.vendor.html">aicsimageio.vendor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../aicsimageio.writers.html">aicsimageio.writers package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio.aics_image">aicsimageio.aics_image module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio.buffer_reader">aicsimageio.buffer_reader module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio.constants">aicsimageio.constants module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio.dask_utils">aicsimageio.dask_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio.exceptions">aicsimageio.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio.transforms">aicsimageio.transforms module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio.types">aicsimageio.types module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../aicsimageio.html#module-aicsimageio">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../benchmarks.html">Benchmarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../benchmarks.html#results">Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../benchmarks.html#configs">Configs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../benchmarks.html#discussion">Discussion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../benchmarks.html#historical-benchmarks">Historical Benchmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../benchmarks.html#running-the-tests">Running the Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing.html#deploying">Deploying</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-7-2021-05-31">v3.3.7 (2021-05-31)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#fix">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-6-2021-05-24">v3.3.6 (2021-05-24)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-5-2021-01-25">v3.3.5 (2021-01-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id4">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-4-2021-01-13">v3.3.4 (2021-01-13)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-3-2020-12-14">v3.3.3 (2020-12-14)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id7">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-2-2020-11-17">v3.3.2 (2020-11-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-1-2020-09-23">v3.3.1 (2020-09-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id11">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id13">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-3-0-2020-09-09">v3.3.0 (2020-09-09)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#new">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-2-3-2020-06-23">v3.2.3 (2020-06-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id16">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-2-2-2020-06-11">v3.2.2 (2020-06-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id18">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id20">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-2-1-2020-05-26">v3.2.1 (2020-05-26)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id23">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-2-0-2020-05-13">v3.2.0 (2020-05-13)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id25">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id29">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id32">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-1-4-2020-03-21">v3.1.4 (2020-03-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id36">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id38">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-1-3-2020-03-11">v3.1.3 (2020-03-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id40">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id42">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-1-2-2020-03-06">v3.1.2 (2020-03-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id44">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id46">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-1-1-2020-02-21">v3.1.1 (2020-02-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id49">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id52">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-1-0-2020-02-03">v3.1.0 (2020-02-03)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id55">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id57">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-0-7-2019-11-05">v3.0.7 (2019-11-05)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-0-6-2019-10-31">v3.0.6 (2019-10-31)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id61">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id63">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-0-5-2019-10-30">v3.0.5 (2019-10-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-0-4-2019-10-28">v3.0.4 (2019-10-28)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-0-3-2019-10-25">v3.0.3 (2019-10-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id66">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#id67">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-0-2-2019-10-11">v3.0.2 (2019-10-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#v3-0-1-2019-10-04">v3.0.1 (2019-10-04)</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">aicsimageio</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Module code</a> &raquo;</li>
      <li>aicsimageio.vendor.omexml</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for aicsimageio.vendor.omexml</h1><div class="highlight"><pre>
<span></span><span class="c1"># Python-bioformats is distributed under the GNU General Public</span>
<span class="c1"># License, but this file is licensed under the more permissive BSD</span>
<span class="c1"># license.  See the accompanying file LICENSE for details.</span>
<span class="c1">#</span>
<span class="c1"># Copyright (c) 2009-2014 Broad Institute</span>
<span class="c1"># All rights reserved.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">omexml.py read and write OME xml</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">uuid</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ElementTree</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>  <span class="c1"># for ometypedict</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>


<div class="viewcode-block" id="xsd_now"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.xsd_now">[docs]</a><span class="k">def</span> <span class="nf">xsd_now</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the current time in xsd:dateTime format&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span></div>


<span class="n">DEFAULT_NOW</span> <span class="o">=</span> <span class="n">xsd_now</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1"># The namespaces</span>
<span class="c1">#</span>
<span class="n">NS_BINARY_FILE</span> <span class="o">=</span> <span class="s2">&quot;http://www.openmicroscopy.org/Schemas/BinaryFile/2016-06&quot;</span>
<span class="n">NS_ORIGINAL_METADATA</span> <span class="o">=</span> <span class="s2">&quot;openmicroscopy.org/OriginalMetadata&quot;</span>
<span class="n">NS_DEFAULT</span> <span class="o">=</span> <span class="s2">&quot;http://www.openmicroscopy.org/Schemas/</span><span class="si">{ns_key}</span><span class="s2">/2016-06&quot;</span>
<span class="n">NS_RE</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;http://www.openmicroscopy.org/Schemas/(?P&lt;ns_key&gt;.*)/[0-9/-]&quot;</span>

<span class="n">default_xml</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span>
<span class="s2">&lt;!-- Warning: this comment is an OME-XML metadata block, which contains crucial dimensional parameters and other important metadata. Please edit cautiously (if at all), and back up the original data before doing so. For more information, see the OME-TIFF web site: http://ome-xml.org/wiki/OmeTiff. --&gt;</span>
<span class="s2">&lt;OME xmlns=&quot;</span><span class="si">{ns_ome_default}</span><span class="s2">&quot;</span>
<span class="s2">     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="s2">     xsi:schemaLocation=&quot;http://www.openmicroscopy.org/Schemas/OME/2016-06 http://www.openmicroscopy.org/Schemas/OME/2016-06/ome.xsd&quot;&gt;</span>
<span class="s2">  &lt;Image ID=&quot;Image:0&quot; Name=&quot;default.png&quot;&gt;</span>
<span class="s2">    &lt;AcquisitionDate&gt;</span><span class="si">{timestamp}</span><span class="s2">&lt;/AcquisitionDate&gt;</span>
<span class="s2">    &lt;Pixels DimensionOrder=&quot;XYCTZ&quot;</span>
<span class="s2">            ID=&quot;Pixels:0&quot;</span>
<span class="s2">            SizeC=&quot;1&quot;</span>
<span class="s2">            SizeT=&quot;1&quot;</span>
<span class="s2">            SizeX=&quot;512&quot;</span>
<span class="s2">            SizeY=&quot;512&quot;</span>
<span class="s2">            SizeZ=&quot;1&quot;</span>
<span class="s2">            Type=&quot;uint8&quot;&gt;</span>
<span class="s2">&lt;Channel ID=&quot;Channel:0:0&quot; SamplesPerPixel=&quot;1&quot;&gt;</span>
<span class="s2">        &lt;LightPath/&gt;</span>
<span class="s2">      &lt;/Channel&gt;</span>
<span class="s2">    &lt;/Pixels&gt;</span>
<span class="s2">  &lt;/Image&gt;</span>
<span class="s2">&lt;/OME&gt;&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ns_ome_default</span><span class="o">=</span><span class="n">NS_DEFAULT</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ns_key</span><span class="o">=</span><span class="s1">&#39;OME&#39;</span><span class="p">),</span> <span class="n">timestamp</span><span class="o">=</span><span class="n">xsd_now</span><span class="p">())</span>

<span class="c1">#</span>
<span class="c1"># These are the OME-XML pixel types - not all supported by subimager</span>
<span class="c1">#</span>
<span class="n">PT_INT8</span> <span class="o">=</span> <span class="s2">&quot;int8&quot;</span>
<span class="n">PT_INT16</span> <span class="o">=</span> <span class="s2">&quot;int16&quot;</span>
<span class="n">PT_INT32</span> <span class="o">=</span> <span class="s2">&quot;int32&quot;</span>
<span class="n">PT_UINT8</span> <span class="o">=</span> <span class="s2">&quot;uint8&quot;</span>
<span class="n">PT_UINT16</span> <span class="o">=</span> <span class="s2">&quot;uint16&quot;</span>
<span class="n">PT_UINT32</span> <span class="o">=</span> <span class="s2">&quot;uint32&quot;</span>
<span class="n">PT_FLOAT</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span>
<span class="n">PT_BIT</span> <span class="o">=</span> <span class="s2">&quot;bit&quot;</span>
<span class="n">PT_DOUBLE</span> <span class="o">=</span> <span class="s2">&quot;double&quot;</span>
<span class="n">PT_COMPLEX</span> <span class="o">=</span> <span class="s2">&quot;complex&quot;</span>
<span class="n">PT_DOUBLECOMPLEX</span> <span class="o">=</span> <span class="s2">&quot;double-complex&quot;</span>
<span class="n">ometypedict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">):</span> <span class="n">PT_INT8</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">):</span> <span class="n">PT_INT16</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">):</span> <span class="n">PT_INT32</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">):</span> <span class="n">PT_UINT8</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">):</span> <span class="n">PT_UINT16</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint32</span><span class="p">):</span> <span class="n">PT_UINT32</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">):</span> <span class="n">PT_FLOAT</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">):</span> <span class="n">PT_DOUBLE</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">complex64</span><span class="p">):</span> <span class="n">PT_COMPLEX</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">):</span> <span class="n">PT_DOUBLECOMPLEX</span>
<span class="p">}</span>


<div class="viewcode-block" id="get_pixel_type"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.get_pixel_type">[docs]</a><span class="k">def</span> <span class="nf">get_pixel_type</span><span class="p">(</span><span class="n">npdtype</span><span class="p">):</span>
    <span class="n">ptype</span> <span class="o">=</span> <span class="n">ometypedict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">npdtype</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ptype</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;OMEXML get_pixel_type unknown type: &#39;</span> <span class="o">+</span> <span class="n">npdtype</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ptype</span></div>


<span class="c1">#</span>
<span class="c1"># The allowed dimension types</span>
<span class="c1">#</span>
<span class="n">DO_XYZCT</span> <span class="o">=</span> <span class="s2">&quot;XYZCT&quot;</span>
<span class="n">DO_XYZTC</span> <span class="o">=</span> <span class="s2">&quot;XYZTC&quot;</span>
<span class="n">DO_XYCTZ</span> <span class="o">=</span> <span class="s2">&quot;XYCTZ&quot;</span>
<span class="n">DO_XYCZT</span> <span class="o">=</span> <span class="s2">&quot;XYCZT&quot;</span>
<span class="n">DO_XYTCZ</span> <span class="o">=</span> <span class="s2">&quot;XYTCZ&quot;</span>
<span class="n">DO_XYTZC</span> <span class="o">=</span> <span class="s2">&quot;XYTZC&quot;</span>
<span class="c1">#</span>
<span class="c1"># Original metadata corresponding to TIFF tags</span>
<span class="c1"># The text for these can be found in</span>
<span class="c1"># loci.formats.in.BaseTiffReader.initStandardMetadata</span>
<span class="c1">#</span>
<span class="sd">&#39;&#39;&#39;IFD # 254&#39;&#39;&#39;</span>
<span class="n">OM_NEW_SUBFILE_TYPE</span> <span class="o">=</span> <span class="s2">&quot;NewSubfileType&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 256&#39;&#39;&#39;</span>
<span class="n">OM_IMAGE_WIDTH</span> <span class="o">=</span> <span class="s2">&quot;ImageWidth&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 257&#39;&#39;&#39;</span>
<span class="n">OM_IMAGE_LENGTH</span> <span class="o">=</span> <span class="s2">&quot;ImageLength&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 258&#39;&#39;&#39;</span>
<span class="n">OM_BITS_PER_SAMPLE</span> <span class="o">=</span> <span class="s2">&quot;BitsPerSample&quot;</span>

<span class="sd">&#39;&#39;&#39;IFD # 262&#39;&#39;&#39;</span>
<span class="n">OM_PHOTOMETRIC_INTERPRETATION</span> <span class="o">=</span> <span class="s2">&quot;PhotometricInterpretation&quot;</span>
<span class="n">PI_WHITE_IS_ZERO</span> <span class="o">=</span> <span class="s2">&quot;WhiteIsZero&quot;</span>
<span class="n">PI_BLACK_IS_ZERO</span> <span class="o">=</span> <span class="s2">&quot;BlackIsZero&quot;</span>
<span class="n">PI_RGB</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span>
<span class="n">PI_RGB_PALETTE</span> <span class="o">=</span> <span class="s2">&quot;Palette&quot;</span>
<span class="n">PI_TRANSPARENCY_MASK</span> <span class="o">=</span> <span class="s2">&quot;Transparency Mask&quot;</span>
<span class="n">PI_CMYK</span> <span class="o">=</span> <span class="s2">&quot;CMYK&quot;</span>
<span class="n">PI_Y_CB_CR</span> <span class="o">=</span> <span class="s2">&quot;YCbCr&quot;</span>
<span class="n">PI_CIE_LAB</span> <span class="o">=</span> <span class="s2">&quot;CIELAB&quot;</span>
<span class="n">PI_CFA_ARRAY</span> <span class="o">=</span> <span class="s2">&quot;Color Filter Array&quot;</span>

<span class="sd">&#39;&#39;&#39;BioFormats infers the image type from the photometric interpretation&#39;&#39;&#39;</span>
<span class="n">OM_METADATA_PHOTOMETRIC_INTERPRETATION</span> <span class="o">=</span> <span class="s2">&quot;MetaDataPhotometricInterpretation&quot;</span>
<span class="n">MPI_RGB</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span>
<span class="n">MPI_MONOCHROME</span> <span class="o">=</span> <span class="s2">&quot;Monochrome&quot;</span>
<span class="n">MPI_CMYK</span> <span class="o">=</span> <span class="s2">&quot;CMYK&quot;</span>

<span class="sd">&#39;&#39;&#39;IFD # 263&#39;&#39;&#39;</span>
<span class="n">OM_THRESHHOLDING</span> <span class="o">=</span> <span class="s2">&quot;Threshholding&quot;</span> <span class="c1"># (sic)</span>
<span class="sd">&#39;&#39;&#39;IFD # 264 (but can be 265 if the orientation = 8)&#39;&#39;&#39;</span>
<span class="n">OM_CELL_WIDTH</span> <span class="o">=</span> <span class="s2">&quot;CellWidth&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 265&#39;&#39;&#39;</span>
<span class="n">OM_CELL_LENGTH</span> <span class="o">=</span> <span class="s2">&quot;CellLength&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 266&#39;&#39;&#39;</span>
<span class="n">OM_FILL_ORDER</span> <span class="o">=</span> <span class="s2">&quot;FillOrder&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 279&#39;&#39;&#39;</span>
<span class="n">OM_DOCUMENT_NAME</span> <span class="o">=</span> <span class="s2">&quot;Document Name&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 271&#39;&#39;&#39;</span>
<span class="n">OM_MAKE</span> <span class="o">=</span> <span class="s2">&quot;Make&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 272&#39;&#39;&#39;</span>
<span class="n">OM_MODEL</span> <span class="o">=</span> <span class="s2">&quot;Model&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 274&#39;&#39;&#39;</span>
<span class="n">OM_ORIENTATION</span> <span class="o">=</span> <span class="s2">&quot;Orientation&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 277&#39;&#39;&#39;</span>
<span class="n">OM_SAMPLES_PER_PIXEL</span> <span class="o">=</span> <span class="s2">&quot;SamplesPerPixel&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 280&#39;&#39;&#39;</span>
<span class="n">OM_MIN_SAMPLE_VALUE</span> <span class="o">=</span> <span class="s2">&quot;MinSampleValue&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 281&#39;&#39;&#39;</span>
<span class="n">OM_MAX_SAMPLE_VALUE</span> <span class="o">=</span> <span class="s2">&quot;MaxSampleValue&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 282&#39;&#39;&#39;</span>
<span class="n">OM_X_RESOLUTION</span> <span class="o">=</span> <span class="s2">&quot;XResolution&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 283&#39;&#39;&#39;</span>
<span class="n">OM_Y_RESOLUTION</span> <span class="o">=</span> <span class="s2">&quot;YResolution&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 284&#39;&#39;&#39;</span>
<span class="n">OM_PLANAR_CONFIGURATION</span> <span class="o">=</span> <span class="s2">&quot;PlanarConfiguration&quot;</span>
<span class="n">PC_CHUNKY</span> <span class="o">=</span> <span class="s2">&quot;Chunky&quot;</span>
<span class="n">PC_PLANAR</span> <span class="o">=</span> <span class="s2">&quot;Planar&quot;</span>

<span class="sd">&#39;&#39;&#39;IFD # 286&#39;&#39;&#39;</span>
<span class="n">OM_X_POSITION</span> <span class="o">=</span> <span class="s2">&quot;XPosition&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 287&#39;&#39;&#39;</span>
<span class="n">OM_Y_POSITION</span> <span class="o">=</span> <span class="s2">&quot;YPosition&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 288&#39;&#39;&#39;</span>
<span class="n">OM_FREE_OFFSETS</span> <span class="o">=</span> <span class="s2">&quot;FreeOffsets&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 289&#39;&#39;&#39;</span>
<span class="n">OM_FREE_BYTECOUNTS</span> <span class="o">=</span> <span class="s2">&quot;FreeByteCounts&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 290&#39;&#39;&#39;</span>
<span class="n">OM_GRAY_RESPONSE_UNIT</span> <span class="o">=</span> <span class="s2">&quot;GrayResponseUnit&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 291&#39;&#39;&#39;</span>
<span class="n">OM_GRAY_RESPONSE_CURVE</span> <span class="o">=</span> <span class="s2">&quot;GrayResponseCurve&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 292&#39;&#39;&#39;</span>
<span class="n">OM_T4_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;T4Options&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 293&#39;&#39;&#39;</span>
<span class="n">OM_T6_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;T6Options&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 296&#39;&#39;&#39;</span>
<span class="n">OM_RESOLUTION_UNIT</span> <span class="o">=</span> <span class="s2">&quot;ResolutionUnit&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 297&#39;&#39;&#39;</span>
<span class="n">OM_PAGE_NUMBER</span> <span class="o">=</span> <span class="s2">&quot;PageNumber&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 301&#39;&#39;&#39;</span>
<span class="n">OM_TRANSFER_FUNCTION</span> <span class="o">=</span> <span class="s2">&quot;TransferFunction&quot;</span>

<span class="sd">&#39;&#39;&#39;IFD # 305&#39;&#39;&#39;</span>
<span class="n">OM_SOFTWARE</span> <span class="o">=</span> <span class="s2">&quot;Software&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 306&#39;&#39;&#39;</span>
<span class="n">OM_DATE_TIME</span> <span class="o">=</span> <span class="s2">&quot;DateTime&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 315&#39;&#39;&#39;</span>
<span class="n">OM_ARTIST</span> <span class="o">=</span> <span class="s2">&quot;Artist&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 316&#39;&#39;&#39;</span>
<span class="n">OM_HOST_COMPUTER</span> <span class="o">=</span> <span class="s2">&quot;HostComputer&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 317&#39;&#39;&#39;</span>
<span class="n">OM_PREDICTOR</span> <span class="o">=</span> <span class="s2">&quot;Predictor&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 318&#39;&#39;&#39;</span>
<span class="n">OM_WHITE_POINT</span> <span class="o">=</span> <span class="s2">&quot;WhitePoint&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 322&#39;&#39;&#39;</span>
<span class="n">OM_TILE_WIDTH</span> <span class="o">=</span> <span class="s2">&quot;TileWidth&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 323&#39;&#39;&#39;</span>
<span class="n">OM_TILE_LENGTH</span> <span class="o">=</span> <span class="s2">&quot;TileLength&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 324&#39;&#39;&#39;</span>
<span class="n">OM_TILE_OFFSETS</span> <span class="o">=</span> <span class="s2">&quot;TileOffsets&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 325&#39;&#39;&#39;</span>
<span class="n">OM_TILE_BYTE_COUNT</span> <span class="o">=</span> <span class="s2">&quot;TileByteCount&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 332&#39;&#39;&#39;</span>
<span class="n">OM_INK_SET</span> <span class="o">=</span> <span class="s2">&quot;InkSet&quot;</span>
<span class="sd">&#39;&#39;&#39;IFD # 33432&#39;&#39;&#39;</span>
<span class="n">OM_COPYRIGHT</span> <span class="o">=</span> <span class="s2">&quot;Copyright&quot;</span>
<span class="c1">#</span>
<span class="c1"># Well row/column naming conventions</span>
<span class="c1">#</span>
<span class="n">NC_LETTER</span> <span class="o">=</span> <span class="s2">&quot;letter&quot;</span>
<span class="n">NC_NUMBER</span> <span class="o">=</span> <span class="s2">&quot;number&quot;</span>


<div class="viewcode-block" id="page_name_original_metadata"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.page_name_original_metadata">[docs]</a><span class="k">def</span> <span class="nf">page_name_original_metadata</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the key name for the page name metadata data for the indexed tiff page</span>

<span class="sd">    These are TIFF IFD #&#39;s 285+</span>

<span class="sd">    index - zero-based index of the page</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;PageName #</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">index</span></div>


<div class="viewcode-block" id="get_text"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.get_text">[docs]</a><span class="k">def</span> <span class="nf">get_text</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the contents of text nodes in a parent node&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">text</span></div>


<div class="viewcode-block" id="set_text"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.set_text">[docs]</a><span class="k">def</span> <span class="nf">set_text</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set the text of a parent&quot;&quot;&quot;</span>
    <span class="n">node</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span></div>


<div class="viewcode-block" id="qn"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.qn">[docs]</a><span class="k">def</span> <span class="nf">qn</span><span class="p">(</span><span class="n">namespace</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the qualified name for a given namespace and tag name</span>

<span class="sd">    This is the ElementTree representation of a qualified name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;{</span><span class="si">%s</span><span class="s2">}</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">namespace</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="split_qn"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.split_qn">[docs]</a><span class="k">def</span> <span class="nf">split_qn</span><span class="p">(</span><span class="n">qn</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Split a qualified tag name or return None if namespace not present&quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;\{(.*)\}(.*)&#39;</span><span class="p">,</span> <span class="n">qn</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="get_namespaces"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.get_namespaces">[docs]</a><span class="k">def</span> <span class="nf">get_namespaces</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get top-level XML namespaces from a node.&quot;&quot;&quot;</span>
    <span class="n">ns_lib</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ome&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;sa&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;spw&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
        <span class="n">nsmatch</span> <span class="o">=</span> <span class="n">split_qn</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nsmatch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ns</span> <span class="o">=</span> <span class="n">nsmatch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">NS_RE</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                <span class="n">ns_key</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;ns_key&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                <span class="n">ns_lib</span><span class="p">[</span><span class="n">ns_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">ns</span>
    <span class="k">return</span> <span class="n">ns_lib</span></div>


<div class="viewcode-block" id="get_float_attr"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.get_float_attr">[docs]</a><span class="k">def</span> <span class="nf">get_float_attr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Cast an element attribute to a float or return None if not present&quot;&quot;&quot;</span>
    <span class="n">attr</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">default</span> <span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_int_attr"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.get_int_attr">[docs]</a><span class="k">def</span> <span class="nf">get_int_attr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">attribute</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Cast an element attribute to an int or return None if not present&quot;&quot;&quot;</span>
    <span class="n">attr</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span></div>


<div class="viewcode-block" id="make_text_node"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.make_text_node">[docs]</a><span class="k">def</span> <span class="nf">make_text_node</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Either make a new node and add the given text or replace the text</span>

<span class="sd">    parent - the parent node to the node to be created or found</span>
<span class="sd">    namespace - the namespace of the node&#39;s qualified name</span>
<span class="sd">    tag_name - the tag name of  the node&#39;s qualified name</span>
<span class="sd">    text - the text to be inserted</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qname</span> <span class="o">=</span> <span class="n">qn</span><span class="p">(</span><span class="n">namespace</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qname</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">qname</span><span class="p">)</span>
    <span class="n">set_text</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span></div>


<div class="viewcode-block" id="OMEXML"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML">[docs]</a><span class="k">class</span> <span class="nc">OMEXML</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Reads and writes OME-XML with methods to get and set it.</span>

<span class="sd">    The OMEXML class has four main purposes: to parse OME-XML, to output</span>
<span class="sd">    OME-XML, to provide a structured mechanism for inspecting OME-XML and to</span>
<span class="sd">    let the caller create and modify OME-XML.</span>

<span class="sd">    There are two ways to invoke the constructor. If you supply XML as a string</span>
<span class="sd">    or unicode string, the constructor will parse it and will use it as the</span>
<span class="sd">    base for any inspection and modification. If you don&#39;t supply XML, you&#39;ll</span>
<span class="sd">    get a bland OME-XML object which has a one-channel image. You can modify</span>
<span class="sd">    it programatically and get the modified OME-XML back out by calling to_xml.</span>

<span class="sd">    There are two ways to get at the XML. The arduous way is to get the</span>
<span class="sd">    root_node of the DOM and explore it yourself using the DOM API</span>
<span class="sd">    (http://docs.python.org/library/xml.dom.html#module-xml.dom). The easy way,</span>
<span class="sd">    where it&#39;s supported is to use properties on OMEXML and on some of its</span>
<span class="sd">    derived objects. For instance:</span>

<span class="sd">    &gt;&gt;&gt; o = OMEXML()</span>
<span class="sd">    &gt;&gt;&gt; print o.image().AcquisitionDate</span>

<span class="sd">    will get you the date that image # 0 was acquired.</span>

<span class="sd">    &gt;&gt;&gt; o = OMEXML()</span>
<span class="sd">    &gt;&gt;&gt; o.image().Name = &quot;MyImage&quot;</span>

<span class="sd">    will set the image name to &quot;MyImage&quot;.</span>

<span class="sd">    You can add and remove objects using the &quot;count&quot; properties. Each of these</span>
<span class="sd">    handles hooking up and removing orphaned elements for you and should be</span>
<span class="sd">    less error prone than creating orphaned elements and attaching them. For</span>
<span class="sd">    instance, to create a three-color image:</span>

<span class="sd">    &gt;&gt;&gt; o = OMEXML()</span>
<span class="sd">    &gt;&gt;&gt; o.image().Pixels.channel_count = 3</span>
<span class="sd">    &gt;&gt;&gt; o.image().Pixels.Channel(0).Name = &quot;Red&quot;</span>
<span class="sd">    &gt;&gt;&gt; o.image().Pixels.Channel(1).Name = &quot;Green&quot;</span>
<span class="sd">    &gt;&gt;&gt; o.image().Pixels.Channel(2).Name = &quot;Blue&quot;</span>

<span class="sd">    See the `OME-XML schema documentation</span>
<span class="sd">    &lt;http://git.openmicroscopy.org/src/develop/components/specification/Documentation/Generated/OME-2011-06/ome.html&gt;`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rootnode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">xml</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">rootnode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">xml</span> <span class="o">=</span> <span class="n">default_xml</span>
        <span class="k">if</span> <span class="n">rootnode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
                <span class="n">enc</span> <span class="o">=</span> <span class="s1">&#39;ISO-8859-1&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">enc</span> <span class="o">=</span> <span class="s1">&#39;UTF-8&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dom</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">xml</span><span class="p">,</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">XMLParser</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="n">enc</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dom</span> <span class="o">=</span> <span class="n">rootnode</span>

        <span class="c1"># determine OME namespaces</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dom</span><span class="p">)</span>
        <span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Error: String not in OME-XML format&quot;</span><span class="p">)</span>

        <span class="c1"># generate a uuid if there is none</span>
        <span class="c1"># &lt; OME UUID = &quot;urn:uuid:ef8af211-b6c1-44d4-97de-daca46f16346&quot;</span>
        <span class="n">omeElem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dom</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">omeElem</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;UUID&#39;</span><span class="p">):</span>
            <span class="n">omeElem</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;UUID&#39;</span><span class="p">,</span> <span class="s1">&#39;urn:uuid:&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uuidStr</span> <span class="o">=</span> <span class="n">omeElem</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;UUID&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#</span>
        <span class="c1"># need to register the ome namespace because BioFormats expects</span>
        <span class="c1"># that namespace to be the default or to be explicitly named &quot;ome&quot;</span>
        <span class="c1">#</span>

        <span class="k">for</span> <span class="n">ns_key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ome&quot;</span><span class="p">]:</span>
            <span class="n">ns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ns_key</span><span class="p">)</span> <span class="ow">or</span> <span class="n">NS_DEFAULT</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ns_key</span><span class="o">=</span><span class="n">ns_key</span><span class="p">)</span>
            <span class="c1"># ElementTree.register_namespace(ns_key, ns)</span>
            <span class="n">ElementTree</span><span class="o">.</span><span class="n">register_namespace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
        <span class="c1"># ElementTree.register_namespace(&quot;om&quot;, NS_ORIGINAL_METADATA)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
        <span class="n">ElementTree</span><span class="o">.</span><span class="n">ElementTree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">result</span><span class="p">,</span>
                                                      <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
                                                      <span class="n">method</span><span class="o">=</span><span class="s2">&quot;xml&quot;</span><span class="p">,</span>
                                                      <span class="n">xml_declaration</span><span class="o">=</span><span class="kc">True</span>
                                                      <span class="c1"># default_namespace = &#39;http://www.openmicroscopy.org/Schemas/ome/2016-06&#39;</span>
                                                      <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<div class="viewcode-block" id="OMEXML.to_xml"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.to_xml">[docs]</a>    <span class="k">def</span> <span class="nf">to_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.get_ns"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.get_ns">[docs]</a>    <span class="k">def</span> <span class="nf">get_ns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="n">key</span><span class="p">]</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">root_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dom</span>

<div class="viewcode-block" id="OMEXML.get_image_count"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.get_image_count">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;The number of images (= series) specified by the XML&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Image&quot;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="OMEXML.set_image_count"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.set_image_count">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Add or remove image nodes as needed&#39;&#39;&#39;</span>
        <span class="k">assert</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_count</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">image_nodes</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Image&quot;</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">image_node</span> <span class="ow">in</span> <span class="n">image_nodes</span><span class="p">[</span><span class="n">value</span><span class="p">:]:</span>
                <span class="n">root</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">image_node</span><span class="p">)</span>
        <span class="k">while</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_count</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">):</span>
            <span class="n">new_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Image&quot;</span><span class="p">)))</span>
            <span class="n">new_image</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
            <span class="n">new_image</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="s2">&quot;default.png&quot;</span>
            <span class="n">new_image</span><span class="o">.</span><span class="n">AcquisitionDate</span> <span class="o">=</span> <span class="n">xsd_now</span><span class="p">()</span>
            <span class="n">new_pixels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Pixels</span><span class="p">(</span>
                <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">new_image</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Pixels&quot;</span><span class="p">)))</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">ome_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uuidStr</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">DimensionOrder</span> <span class="o">=</span> <span class="n">DO_XYCTZ</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">PixelType</span> <span class="o">=</span> <span class="n">PT_UINT8</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">SizeC</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">SizeT</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">SizeX</span> <span class="o">=</span> <span class="mi">512</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">SizeY</span> <span class="o">=</span> <span class="mi">512</span>
            <span class="n">new_pixels</span><span class="o">.</span><span class="n">SizeZ</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">new_channel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span>
                <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">new_pixels</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Channel&quot;</span><span class="p">)))</span>
            <span class="n">new_channel</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="s2">&quot;Channel</span><span class="si">%d</span><span class="s2">:0&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_count</span>
            <span class="n">new_channel</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="n">new_channel</span><span class="o">.</span><span class="n">ID</span>
            <span class="n">new_channel</span><span class="o">.</span><span class="n">SamplesPerPixel</span> <span class="o">=</span> <span class="mi">1</span></div>

    <span class="n">image_count</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_image_count</span><span class="p">,</span> <span class="n">set_image_count</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">plates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">PlatesDucktype</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">structured_annotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the structured annotations container</span>

<span class="sd">        returns a wrapping of OME/StructuredAnnotations. It creates</span>
<span class="sd">        the element if it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">],</span> <span class="s2">&quot;StructuredAnnotations&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">],</span> <span class="s2">&quot;StructuredAnnotations&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">StructuredAnnotations</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Image"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Image">[docs]</a>    <span class="k">class</span> <span class="nc">Image</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Representation of the OME/Image element&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Initialize with the DOM Image node&quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Image.get_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Image.get_ID">[docs]</a>        <span class="k">def</span> <span class="nf">get_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Image.set_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Image.set_ID">[docs]</a>        <span class="k">def</span> <span class="nf">set_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">ID</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ID</span><span class="p">,</span> <span class="n">set_ID</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Image.get_Name"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Image.get_Name">[docs]</a>        <span class="k">def</span> <span class="nf">get_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Image.set_Name"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Image.set_Name">[docs]</a>        <span class="k">def</span> <span class="nf">set_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">Name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Name</span><span class="p">,</span> <span class="n">set_Name</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Image.get_AcquisitionDate"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Image.get_AcquisitionDate">[docs]</a>        <span class="k">def</span> <span class="nf">get_AcquisitionDate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The date in ISO-8601 format&quot;&quot;&quot;</span>
            <span class="n">acquired_date</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s2">&quot;ome&quot;</span><span class="p">],</span> <span class="s2">&quot;AcquisitionDate&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">acquired_date</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">get_text</span><span class="p">(</span><span class="n">acquired_date</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Image.set_AcquisitionDate"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Image.set_AcquisitionDate">[docs]</a>        <span class="k">def</span> <span class="nf">set_AcquisitionDate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
            <span class="n">acquired_date</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s2">&quot;ome&quot;</span><span class="p">],</span> <span class="s2">&quot;AcquisitionDate&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">acquired_date</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">acquired_date</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s2">&quot;ome&quot;</span><span class="p">],</span> <span class="s2">&quot;AcquisitionDate&quot;</span><span class="p">))</span>
            <span class="n">set_text</span><span class="p">(</span><span class="n">acquired_date</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span></div>

        <span class="n">AcquisitionDate</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_AcquisitionDate</span><span class="p">,</span> <span class="n">set_AcquisitionDate</span><span class="p">)</span>

        <span class="nd">@property</span>
        <span class="k">def</span> <span class="nf">Pixels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The OME/Image/Pixels element.</span>

<span class="sd">            Example:</span>
<span class="sd">            &gt;&gt;&gt; md = bioformats.omexml.OMEXML(xml)</span>
<span class="sd">            &gt;&gt;&gt; pixels = omemetadata.image(i).Pixels</span>
<span class="sd">            &gt;&gt;&gt; channel_count = pixels.SizeC</span>
<span class="sd">            &gt;&gt;&gt; stack_count = pixels.SizeZ</span>
<span class="sd">            &gt;&gt;&gt; timepoint_count = pixels.SizeT</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Pixels</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Pixels&quot;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="OMEXML.image"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.image">[docs]</a>    <span class="k">def</span> <span class="nf">image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an image node by index&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Image&quot;</span><span class="p">))[</span><span class="n">index</span><span class="p">])</span></div>

<div class="viewcode-block" id="OMEXML.Channel"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel">[docs]</a>    <span class="k">class</span> <span class="nc">Channel</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The OME/Image/Pixels/Channel element&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Channel.get_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.get_ID">[docs]</a>        <span class="k">def</span> <span class="nf">get_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Channel.set_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.set_ID">[docs]</a>        <span class="k">def</span> <span class="nf">set_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
        <span class="n">ID</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ID</span><span class="p">,</span> <span class="n">set_ID</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Channel.get_Name"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.get_Name">[docs]</a>        <span class="k">def</span> <span class="nf">get_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Channel.set_Name"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.set_Name">[docs]</a>        <span class="k">def</span> <span class="nf">set_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
        <span class="n">Name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Name</span><span class="p">,</span> <span class="n">set_Name</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Channel.get_SamplesPerPixel"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.get_SamplesPerPixel">[docs]</a>        <span class="k">def</span> <span class="nf">get_SamplesPerPixel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;SamplesPerPixel&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Channel.set_SamplesPerPixel"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.set_SamplesPerPixel">[docs]</a>        <span class="k">def</span> <span class="nf">set_SamplesPerPixel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;SamplesPerPixel&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>
        <span class="n">SamplesPerPixel</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_SamplesPerPixel</span><span class="p">,</span> <span class="n">set_SamplesPerPixel</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Channel.get_Color"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.get_Color">[docs]</a>        <span class="k">def</span> <span class="nf">get_Color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;Color&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Channel.set_Color"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Channel.set_Color">[docs]</a>        <span class="k">def</span> <span class="nf">set_Color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Color&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">Color</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Color</span><span class="p">,</span> <span class="n">set_Color</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.TiffData"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData">[docs]</a>    <span class="k">class</span> <span class="nc">TiffData</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The OME/Image/Pixels/TiffData element</span>

<span class="sd">        &lt;TiffData FirstC=&quot;0&quot; FirstT=&quot;0&quot; FirstZ=&quot;0&quot; IFD=&quot;0&quot; PlaneCount=&quot;1&quot;&gt;</span>
<span class="sd">            &lt;UUID FileName=&quot;img40_1.ome.tif&quot;&gt;urn:uuid:ef8af211-b6c1-44d4-97de-daca46f16346&lt;/UUID&gt;</span>
<span class="sd">        &lt;/TiffData&gt;</span>
<span class="sd">        For our purposes, there will be one TiffData per 2-dimensional image plane.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.TiffData.get_FirstZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.get_FirstZ">[docs]</a>        <span class="k">def</span> <span class="nf">get_FirstZ</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;The Z index of the plane&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;FirstZ&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.TiffData.set_FirstZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.set_FirstZ">[docs]</a>        <span class="k">def</span> <span class="nf">set_FirstZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;FirstZ&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">FirstZ</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_FirstZ</span><span class="p">,</span> <span class="n">set_FirstZ</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.TiffData.get_FirstC"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.get_FirstC">[docs]</a>        <span class="k">def</span> <span class="nf">get_FirstC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;The channel index of the plane&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;FirstC&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.TiffData.set_FirstC"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.set_FirstC">[docs]</a>        <span class="k">def</span> <span class="nf">set_FirstC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;FirstC&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">FirstC</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_FirstC</span><span class="p">,</span> <span class="n">set_FirstC</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.TiffData.get_FirstT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.get_FirstT">[docs]</a>        <span class="k">def</span> <span class="nf">get_FirstT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;The T index of the plane&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;FirstT&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.TiffData.set_FirstT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.set_FirstT">[docs]</a>        <span class="k">def</span> <span class="nf">set_FirstT</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;FirstT&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">FirstT</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_FirstT</span><span class="p">,</span> <span class="n">set_FirstT</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.TiffData.get_IFD"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.get_IFD">[docs]</a>        <span class="k">def</span> <span class="nf">get_IFD</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;plane index within tiff file&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;IFD&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.TiffData.set_IFD"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.set_IFD">[docs]</a>        <span class="k">def</span> <span class="nf">set_IFD</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;IFD&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">IFD</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_IFD</span><span class="p">,</span> <span class="n">set_IFD</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.TiffData.get_PlaneCount"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.get_PlaneCount">[docs]</a>        <span class="k">def</span> <span class="nf">get_PlaneCount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;How many planes in this TiffData. Should always be 1&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PlaneCount&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.TiffData.set_PlaneCount"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.TiffData.set_PlaneCount">[docs]</a>        <span class="k">def</span> <span class="nf">set_PlaneCount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PlaneCount&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PlaneCount</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PlaneCount</span><span class="p">,</span> <span class="n">set_PlaneCount</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plane"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane">[docs]</a>    <span class="k">class</span> <span class="nc">Plane</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The OME/Image/Pixels/Plane element</span>

<span class="sd">        The Plane element represents one 2-dimensional image plane. It</span>
<span class="sd">        has the Z, C and T indices of the plane and optionally has the</span>
<span class="sd">        X, Y, Z, exposure time and a relative time delta.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plane.get_TheZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.get_TheZ">[docs]</a>        <span class="k">def</span> <span class="nf">get_TheZ</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The Z index of the plane&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;TheZ&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plane.set_TheZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.set_TheZ">[docs]</a>        <span class="k">def</span> <span class="nf">set_TheZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;TheZ&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">TheZ</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_TheZ</span><span class="p">,</span> <span class="n">set_TheZ</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plane.get_TheC"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.get_TheC">[docs]</a>        <span class="k">def</span> <span class="nf">get_TheC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The channel index of the plane&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;TheC&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plane.set_TheC"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.set_TheC">[docs]</a>        <span class="k">def</span> <span class="nf">set_TheC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;TheC&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">TheC</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_TheC</span><span class="p">,</span> <span class="n">set_TheC</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plane.get_TheT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.get_TheT">[docs]</a>        <span class="k">def</span> <span class="nf">get_TheT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The T index of the plane&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;TheT&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plane.set_TheT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.set_TheT">[docs]</a>        <span class="k">def</span> <span class="nf">set_TheT</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;TheT&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">TheT</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_TheT</span><span class="p">,</span> <span class="n">set_TheT</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plane.get_DeltaT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.get_DeltaT">[docs]</a>        <span class="k">def</span> <span class="nf">get_DeltaT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;# of seconds since the beginning of the experiment&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;DeltaT&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plane.set_DeltaT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.set_DeltaT">[docs]</a>        <span class="k">def</span> <span class="nf">set_DeltaT</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;DeltaT&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">DeltaT</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_DeltaT</span><span class="p">,</span> <span class="n">set_DeltaT</span><span class="p">)</span>

        <span class="nd">@property</span>
        <span class="k">def</span> <span class="nf">ExposureTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Units are seconds. Duration of acquisition????&quot;&quot;&quot;</span>
            <span class="n">exposure_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ExposureTime&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">exposure_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">exposure_time</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

<div class="viewcode-block" id="OMEXML.Plane.get_PositionX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.get_PositionX">[docs]</a>        <span class="k">def</span> <span class="nf">get_PositionX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;X position of stage&quot;&quot;&quot;</span>
            <span class="n">position_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;PositionX&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">position_x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">position_x</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="OMEXML.Plane.set_PositionX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.set_PositionX">[docs]</a>        <span class="k">def</span> <span class="nf">set_PositionX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PositionX&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PositionX</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PositionX</span><span class="p">,</span> <span class="n">set_PositionX</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plane.get_PositionY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.get_PositionY">[docs]</a>        <span class="k">def</span> <span class="nf">get_PositionY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;Y position of stage&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PositionY&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plane.set_PositionY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.set_PositionY">[docs]</a>        <span class="k">def</span> <span class="nf">set_PositionY</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PositionY&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PositionY</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PositionY</span><span class="p">,</span> <span class="n">set_PositionY</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plane.get_PositionZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.get_PositionZ">[docs]</a>        <span class="k">def</span> <span class="nf">get_PositionZ</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;Z position of stage&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PositionZ&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plane.set_PositionZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plane.set_PositionZ">[docs]</a>        <span class="k">def</span> <span class="nf">set_PositionZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PositionZ&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PositionZ</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PositionZ</span><span class="p">,</span> <span class="n">set_PositionZ</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels">[docs]</a>    <span class="k">class</span> <span class="nc">Pixels</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The OME/Image/Pixels element</span>

<span class="sd">        The Pixels element represents the pixels in an OME image and, for</span>
<span class="sd">        an OME-XML encoded image, will actually contain the base-64 encoded</span>
<span class="sd">        pixel data. It has the X, Y, Z, C, and T extents of the image</span>
<span class="sd">        and it specifies the channel interleaving and channel depth.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ome_uuid</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;BigEndian&quot;</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_ID">[docs]</a>        <span class="k">def</span> <span class="nf">get_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_ID">[docs]</a>        <span class="k">def</span> <span class="nf">set_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
        <span class="n">ID</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ID</span><span class="p">,</span> <span class="n">set_ID</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_DimensionOrder"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_DimensionOrder">[docs]</a>        <span class="k">def</span> <span class="nf">get_DimensionOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The ordering of image planes in the file</span>

<span class="sd">            A 5-letter code indicating the ordering of pixels, from the most</span>
<span class="sd">            rapidly varying to least. Use the DO_* constants (for instance</span>
<span class="sd">            DO_XYZCT) to compare and set this.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DimensionOrder&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_DimensionOrder"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_DimensionOrder">[docs]</a>        <span class="k">def</span> <span class="nf">set_DimensionOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;DimensionOrder&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">DimensionOrder</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_DimensionOrder</span><span class="p">,</span> <span class="n">set_DimensionOrder</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_PixelType"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_PixelType">[docs]</a>        <span class="k">def</span> <span class="nf">get_PixelType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The pixel bit type, for instance PT_UINT8</span>

<span class="sd">            The pixel type specifies the datatype used to encode pixels</span>
<span class="sd">            in the image data. You can use the PT_* constants to compare</span>
<span class="sd">            and set the pixel type.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Type&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_PixelType"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_PixelType">[docs]</a>        <span class="k">def</span> <span class="nf">set_PixelType</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Type&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">PixelType</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PixelType</span><span class="p">,</span> <span class="n">set_PixelType</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_SizeX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_SizeX">[docs]</a>        <span class="k">def</span> <span class="nf">get_SizeX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the X direction in pixels&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;SizeX&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_SizeX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_SizeX">[docs]</a>        <span class="k">def</span> <span class="nf">set_SizeX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;SizeX&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">SizeX</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_SizeX</span><span class="p">,</span> <span class="n">set_SizeX</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_SizeY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_SizeY">[docs]</a>        <span class="k">def</span> <span class="nf">get_SizeY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the Y direction in pixels&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;SizeY&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_SizeY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_SizeY">[docs]</a>        <span class="k">def</span> <span class="nf">set_SizeY</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;SizeY&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">SizeY</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_SizeY</span><span class="p">,</span> <span class="n">set_SizeY</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_SizeZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_SizeZ">[docs]</a>        <span class="k">def</span> <span class="nf">get_SizeZ</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the Z direction in pixels&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;SizeZ&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_SizeZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_SizeZ">[docs]</a>        <span class="k">def</span> <span class="nf">set_SizeZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;SizeZ&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">SizeZ</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_SizeZ</span><span class="p">,</span> <span class="n">set_SizeZ</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_SizeT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_SizeT">[docs]</a>        <span class="k">def</span> <span class="nf">get_SizeT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the T direction in pixels&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;SizeT&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_SizeT"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_SizeT">[docs]</a>        <span class="k">def</span> <span class="nf">set_SizeT</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;SizeT&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">SizeT</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_SizeT</span><span class="p">,</span> <span class="n">set_SizeT</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_SizeC"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_SizeC">[docs]</a>        <span class="k">def</span> <span class="nf">get_SizeC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the C direction in pixels&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;SizeC&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_SizeC"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_SizeC">[docs]</a>        <span class="k">def</span> <span class="nf">set_SizeC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;SizeC&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">SizeC</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_SizeC</span><span class="p">,</span> <span class="n">set_SizeC</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_PhysicalSizeX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_PhysicalSizeX">[docs]</a>        <span class="k">def</span> <span class="nf">get_PhysicalSizeX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the X direction in physical units&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PhysicalSizeX&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_PhysicalSizeX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_PhysicalSizeX">[docs]</a>        <span class="k">def</span> <span class="nf">set_PhysicalSizeX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PhysicalSizeX&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PhysicalSizeX</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PhysicalSizeX</span><span class="p">,</span> <span class="n">set_PhysicalSizeX</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_PhysicalSizeY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_PhysicalSizeY">[docs]</a>        <span class="k">def</span> <span class="nf">get_PhysicalSizeY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the Y direction in physical units&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PhysicalSizeY&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_PhysicalSizeY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_PhysicalSizeY">[docs]</a>        <span class="k">def</span> <span class="nf">set_PhysicalSizeY</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PhysicalSizeY&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PhysicalSizeY</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PhysicalSizeY</span><span class="p">,</span> <span class="n">set_PhysicalSizeY</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_PhysicalSizeZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_PhysicalSizeZ">[docs]</a>        <span class="k">def</span> <span class="nf">get_PhysicalSizeZ</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The dimensions of the image in the Z direction in physical units&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PhysicalSizeZ&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_PhysicalSizeZ"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_PhysicalSizeZ">[docs]</a>        <span class="k">def</span> <span class="nf">set_PhysicalSizeZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PhysicalSizeZ&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PhysicalSizeZ</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PhysicalSizeZ</span><span class="p">,</span> <span class="n">set_PhysicalSizeZ</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.get_channel_count"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_channel_count">[docs]</a>        <span class="k">def</span> <span class="nf">get_channel_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The number of channels in the image</span>

<span class="sd">            You can change the number of channels in the image by</span>
<span class="sd">            setting the channel_count:</span>

<span class="sd">            pixels.channel_count = 3</span>
<span class="sd">            pixels.Channel(0).Name = &quot;Red&quot;</span>
<span class="sd">            ...</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Channel&quot;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.get_channel_names"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_channel_names">[docs]</a>        <span class="k">def</span> <span class="nf">get_channel_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">Name</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_channel_count</span><span class="p">())]</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_channel_count"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_channel_count">[docs]</a>        <span class="k">def</span> <span class="nf">set_channel_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">0</span>
            <span class="n">channel_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_count</span>
            <span class="k">if</span> <span class="n">channel_count</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">channels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Channel&quot;</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">[</span><span class="n">value</span><span class="p">:]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">channel_count</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
                    <span class="n">new_channel</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span>
                        <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Channel&quot;</span><span class="p">)))</span>
                    <span class="n">new_channel</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
                    <span class="n">new_channel</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="n">new_channel</span><span class="o">.</span><span class="n">ID</span>
                    <span class="n">new_channel</span><span class="o">.</span><span class="n">SamplesPerPixel</span> <span class="o">=</span> <span class="mi">1</span></div>

        <span class="n">channel_count</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_channel_count</span><span class="p">,</span> <span class="n">set_channel_count</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.Channel"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.Channel">[docs]</a>        <span class="k">def</span> <span class="nf">Channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Get the indexed channel from the Pixels element&quot;&quot;&quot;</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Channel&quot;</span><span class="p">))[</span><span class="n">index</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.get_plane_count"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_plane_count">[docs]</a>        <span class="k">def</span> <span class="nf">get_plane_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;The number of planes in the image</span>

<span class="sd">            An image with only one plane or an interleaved color plane will</span>
<span class="sd">            often not have any planes.</span>

<span class="sd">            You can change the number of planes in the image by</span>
<span class="sd">            setting the plane_count:</span>

<span class="sd">            pixels.plane_count = 3</span>
<span class="sd">            pixels.Plane(0).TheZ=pixels.Plane(0).TheC=pixels.Plane(0).TheT=0</span>
<span class="sd">            ...</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Plane&quot;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.set_plane_count"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.set_plane_count">[docs]</a>        <span class="k">def</span> <span class="nf">set_plane_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">0</span>
            <span class="n">plane_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plane_count</span>
            <span class="k">if</span> <span class="n">plane_count</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Plane&quot;</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">plane</span> <span class="ow">in</span> <span class="n">planes</span><span class="p">[</span><span class="n">value</span><span class="p">:]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">plane_count</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
                    <span class="c1"># Create the necessary planes</span>
                    <span class="n">OMEXML</span><span class="o">.</span><span class="n">Plane</span><span class="p">(</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Plane&quot;</span><span class="p">)))</span></div>

        <span class="n">plane_count</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_plane_count</span><span class="p">,</span> <span class="n">set_plane_count</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Pixels.Plane"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.Plane">[docs]</a>        <span class="k">def</span> <span class="nf">Plane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Get the indexed plane from the Pixels element&quot;&quot;&quot;</span>
            <span class="n">plane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Plane&quot;</span><span class="p">))[</span><span class="n">index</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Plane</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.TiffData"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.TiffData">[docs]</a>        <span class="k">def</span> <span class="nf">TiffData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Get the indexed TiffData from the Pixels element&quot;&quot;&quot;</span>
            <span class="n">tiffData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;TiffData&quot;</span><span class="p">))[</span><span class="n">index</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">TiffData</span><span class="p">(</span><span class="n">tiffData</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.get_planes_of_channel"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.get_planes_of_channel">[docs]</a>        <span class="k">def</span> <span class="nf">get_planes_of_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
            <span class="n">planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Plane[@TheC=&#39;&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&#39;]&quot;</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">planes</span></div>

        <span class="c1"># does not fix up any indices</span>
<div class="viewcode-block" id="OMEXML.Pixels.remove_channel"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.remove_channel">[docs]</a>        <span class="k">def</span> <span class="nf">remove_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Channel&quot;</span><span class="p">))[</span><span class="n">index</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
            <span class="n">planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_planes_of_channel</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">planes</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">p</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Pixels.append_channel"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.append_channel">[docs]</a>        <span class="k">def</span> <span class="nf">append_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="c1"># add channel</span>
            <span class="n">new_channel</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span>
                <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Channel&quot;</span><span class="p">)))</span>
            <span class="n">new_channel</span><span class="o">.</span><span class="n">SamplesPerPixel</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">new_channel</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="s2">&quot;Channel:0:&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            <span class="n">new_channel</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="c1"># add a bunch of planes with &quot;TheC&quot;=str(index)</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_SizeT</span><span class="p">()):</span>
                <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_SizeZ</span><span class="p">()):</span>
                    <span class="n">new_plane</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Plane</span><span class="p">(</span>
                        <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;Plane&quot;</span><span class="p">)))</span>
                    <span class="n">new_plane</span><span class="o">.</span><span class="n">TheC</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
                    <span class="n">new_plane</span><span class="o">.</span><span class="n">TheZ</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
                    <span class="n">new_plane</span><span class="o">.</span><span class="n">TheT</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="c1"># update SizeC</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_SizeC</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_SizeC</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></div>

        <span class="c1"># can be done as a single step just prior to final output</span>
<div class="viewcode-block" id="OMEXML.Pixels.populate_TiffData"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Pixels.populate_TiffData">[docs]</a>        <span class="k">def</span> <span class="nf">populate_TiffData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot; assuming Pixels has its sizes, set up tiffdata elements&quot;&quot;&quot;</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeC</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeZ</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeT</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeC</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeT</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeZ</span>
            <span class="c1"># blow away the old ones.</span>
            <span class="n">tiffdatas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;TiffData&quot;</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">td</span> <span class="ow">in</span> <span class="n">tiffdatas</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">td</span><span class="p">)</span>

            <span class="n">sizes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Z&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeZ</span><span class="p">,</span>
                <span class="s2">&quot;C&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeC</span><span class="p">,</span>
                <span class="s2">&quot;T&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">SizeT</span>
            <span class="p">}</span>
            <span class="n">setters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Z&quot;</span><span class="p">:</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">TiffData</span><span class="o">.</span><span class="n">set_FirstZ</span><span class="p">,</span>
                <span class="s2">&quot;C&quot;</span><span class="p">:</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">TiffData</span><span class="o">.</span><span class="n">set_FirstC</span><span class="p">,</span>
                <span class="s2">&quot;T&quot;</span><span class="p">:</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">TiffData</span><span class="o">.</span><span class="n">set_FirstT</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># use DimensionOrder&#39;s last 3 characters</span>
            <span class="n">dims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DimensionOrder</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
            <span class="n">ifd</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">sizes</span><span class="p">[</span><span class="n">dims</span><span class="p">[</span><span class="mi">2</span><span class="p">]]):</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">sizes</span><span class="p">[</span><span class="n">dims</span><span class="p">[</span><span class="mi">1</span><span class="p">]]):</span>
                    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">sizes</span><span class="p">[</span><span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]]):</span>
                        <span class="n">new_tiffdata</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">TiffData</span><span class="p">(</span>
                            <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;ome&#39;</span><span class="p">],</span> <span class="s2">&quot;TiffData&quot;</span><span class="p">)))</span>
                        <span class="n">setters</span><span class="p">[</span><span class="n">dims</span><span class="p">[</span><span class="mi">2</span><span class="p">]](</span><span class="n">new_tiffdata</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                        <span class="n">setters</span><span class="p">[</span><span class="n">dims</span><span class="p">[</span><span class="mi">1</span><span class="p">]](</span><span class="n">new_tiffdata</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                        <span class="n">setters</span><span class="p">[</span><span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]](</span><span class="n">new_tiffdata</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                        <span class="n">new_tiffdata</span><span class="o">.</span><span class="n">set_IFD</span><span class="p">(</span><span class="n">ifd</span><span class="p">)</span>
                        <span class="n">new_tiffdata</span><span class="o">.</span><span class="n">set_PlaneCount</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                        <span class="c1"># child element &lt;UUID FileName=&quot;&quot;&gt;&lt;/UUID&gt; is omitted here for single file ome tiffs</span>
                        <span class="c1"># UUID has an optional FileName attribute for image data that</span>
                        <span class="c1"># are split among several files but we do not currently support it.</span>
                        <span class="c1"># uuidelem = ElementTree.SubElement(new_tiffdata.node, qn(self.ns[&#39;ome&#39;], &quot;UUID&quot;))</span>
                        <span class="c1"># uuidelem.text = self.ome_uuid</span>
                        <span class="n">ifd</span> <span class="o">=</span> <span class="n">ifd</span> <span class="o">+</span> <span class="mi">1</span></div></div>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations">[docs]</a>    <span class="k">class</span> <span class="nc">StructuredAnnotations</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The OME/StructuredAnnotations element</span>

<span class="sd">        Structured annotations let OME-XML represent metadata from other file</span>
<span class="sd">        formats, for example the tag metadata in TIFF files. The</span>
<span class="sd">        StructuredAnnotations element is a container for the structured</span>
<span class="sd">        annotations.</span>

<span class="sd">        Images can have structured annotation references. These match to</span>
<span class="sd">        the IDs of structured annotations in the StructuredAnnotations</span>
<span class="sd">        element. You can get the structured annotations in an OME-XML document</span>
<span class="sd">        using a dictionary interface to StructuredAnnotations.</span>

<span class="sd">        Pragmatically, TIFF tag metadata is stored as key/value pairs in</span>
<span class="sd">        OriginalMetadata annotations - in the context of CellProfiler,</span>
<span class="sd">        callers will be using these to read tag data that&#39;s not represented</span>
<span class="sd">        in OME-XML such as the bits per sample and min and max sample values.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">child</span>
            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;ID &quot;</span><span class="si">%s</span><span class="s1">&quot; not found&#39;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations.keys"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations.keys">[docs]</a>        <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="p">[</span><span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">])</span></div>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations.has_key"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations.has_key">[docs]</a>        <span class="k">def</span> <span class="nf">has_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations.add_original_metadata"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations.add_original_metadata">[docs]</a>        <span class="k">def</span> <span class="nf">add_original_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Create an original data key/value pair</span>

<span class="sd">            key - the original metadata&#39;s key name, for instance OM_PHOTOMETRIC_INTERPRETATION</span>

<span class="sd">            value - the value, for instance, &quot;RGB&quot;</span>

<span class="sd">            returns the ID for the structured annotation.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">xml_annotation</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">],</span> <span class="s2">&quot;XMLAnnotation&quot;</span><span class="p">))</span>
            <span class="n">node_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
            <span class="n">xml_annotation</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span>
            <span class="n">xa_value</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">xml_annotation</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">],</span> <span class="s2">&quot;Value&quot;</span><span class="p">))</span>
            <span class="n">ov</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                <span class="n">xa_value</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="n">NS_ORIGINAL_METADATA</span><span class="p">,</span> <span class="s2">&quot;OriginalMetadata&quot;</span><span class="p">))</span>
            <span class="n">ov_key</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">ov</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="n">NS_ORIGINAL_METADATA</span><span class="p">,</span> <span class="s2">&quot;Key&quot;</span><span class="p">))</span>
            <span class="n">set_text</span><span class="p">(</span><span class="n">ov_key</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="n">ov_value</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                <span class="n">ov</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="n">NS_ORIGINAL_METADATA</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">))</span>
            <span class="n">set_text</span><span class="p">(</span><span class="n">ov_value</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">node_id</span></div>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations.iter_original_metadata"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations.iter_original_metadata">[docs]</a>        <span class="k">def</span> <span class="nf">iter_original_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;An iterator over the original metadata in structured annotations</span>

<span class="sd">            returns (&lt;annotation ID&gt;, (&lt;key, value&gt;))</span>

<span class="sd">            where &lt;annotation ID&gt; is the ID attribute of the annotation (which</span>
<span class="sd">            can be used to tie an annotation to an image)</span>

<span class="sd">                  &lt;key&gt; is the original metadata key, typically one of the</span>
<span class="sd">                  OM_* names of a TIFF tag</span>
<span class="sd">                  &lt;value&gt; is the value for the metadata</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="c1">#</span>
            <span class="c1"># Here&#39;s the XML we&#39;re traversing:</span>
            <span class="c1">#</span>
            <span class="c1"># &lt;StructuredAnnotations&gt;</span>
            <span class="c1">#    &lt;XMLAnnotation&gt;</span>
            <span class="c1">#        &lt;Value&gt;</span>
            <span class="c1">#            &lt;OriginalMetadta&gt;</span>
            <span class="c1">#                &lt;Key&gt;Foo&lt;/Key&gt;</span>
            <span class="c1">#                &lt;Value&gt;Bar&lt;/Value&gt;</span>
            <span class="c1">#            &lt;/OriginalMetadata&gt;</span>
            <span class="c1">#        &lt;/Value&gt;</span>
            <span class="c1">#    &lt;/XMLAnnotation&gt;</span>
            <span class="c1"># &lt;/StructuredAnnotations&gt;</span>
            <span class="c1">#</span>
            <span class="k">for</span> <span class="n">annotation_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">],</span> <span class="s2">&quot;XMLAnnotation&quot;</span><span class="p">)):</span>
                <span class="c1"># &lt;XMLAnnotation/&gt;</span>
                <span class="n">annotation_id</span> <span class="o">=</span> <span class="n">annotation_node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">xa_value_node</span> <span class="ow">in</span> <span class="n">annotation_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">],</span> <span class="s2">&quot;Value&quot;</span><span class="p">)):</span>
                    <span class="c1"># &lt;Value/&gt;</span>
                    <span class="k">for</span> <span class="n">om_node</span> <span class="ow">in</span> <span class="n">xa_value_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="n">NS_ORIGINAL_METADATA</span><span class="p">,</span> <span class="s2">&quot;OriginalMetadata&quot;</span><span class="p">)):</span>
                        <span class="c1"># &lt;OriginalMetadata&gt;</span>
                        <span class="n">key_node</span> <span class="o">=</span> <span class="n">om_node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="n">NS_ORIGINAL_METADATA</span><span class="p">,</span> <span class="s2">&quot;Key&quot;</span><span class="p">))</span>
                        <span class="n">value_node</span> <span class="o">=</span> <span class="n">om_node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="n">NS_ORIGINAL_METADATA</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">))</span>
                        <span class="k">if</span> <span class="n">key_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">key_text</span> <span class="o">=</span> <span class="n">get_text</span><span class="p">(</span><span class="n">key_node</span><span class="p">)</span>
                            <span class="n">value_text</span> <span class="o">=</span> <span class="n">get_text</span><span class="p">(</span><span class="n">value_node</span><span class="p">)</span>
                            <span class="k">if</span> <span class="n">key_text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value_text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                                <span class="k">yield</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">key_text</span><span class="p">,</span> <span class="n">value_text</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">logger</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Original metadata was missing key or value:&quot;</span> <span class="o">+</span> <span class="n">om_node</span><span class="o">.</span><span class="n">toxml</span><span class="p">())</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations.has_original_metadata"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations.has_original_metadata">[docs]</a>        <span class="k">def</span> <span class="nf">has_original_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;True if there is an original metadata item with the given key&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="nb">any</span><span class="p">([</span><span class="n">k</span> <span class="o">==</span> <span class="n">key</span>
                        <span class="k">for</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
                        <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_original_metadata</span><span class="p">()])</span></div>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations.get_original_metadata_value"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations.get_original_metadata_value">[docs]</a>        <span class="k">def</span> <span class="nf">get_original_metadata_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Return the value for a particular original metadata key</span>

<span class="sd">            key - key to search for</span>
<span class="sd">            default - default value to return if not found</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">for</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_original_metadata</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">v</span>
            <span class="k">return</span> <span class="n">default</span></div>

<div class="viewcode-block" id="OMEXML.StructuredAnnotations.get_original_metadata_refs"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.StructuredAnnotations.get_original_metadata_refs">[docs]</a>        <span class="k">def</span> <span class="nf">get_original_metadata_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;For a given ID, get the matching original metadata references</span>

<span class="sd">            ids - collection of IDs to match</span>

<span class="sd">            returns a dictionary of key to value</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_original_metadata</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">annotation_id</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
                    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
            <span class="k">return</span> <span class="n">d</span></div>

        <span class="nd">@property</span>
        <span class="k">def</span> <span class="nf">OriginalMetadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">OriginalMetadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.OriginalMetadata"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.OriginalMetadata">[docs]</a>    <span class="k">class</span> <span class="nc">OriginalMetadata</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;View original metadata as a dictionary</span>

<span class="sd">        Original metadata holds &quot;vendor-specific&quot; metadata including TIFF</span>
<span class="sd">        tag values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sa</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;Initialized with the structured_annotations class instance&#39;&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sa</span> <span class="o">=</span> <span class="n">sa</span>

        <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sa</span><span class="o">.</span><span class="n">get_original_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sa</span><span class="o">.</span><span class="n">add_original_metadata</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sa</span><span class="o">.</span><span class="n">iter_original_metadata</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">key</span>

        <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sa_iter_original_metadata</span><span class="p">()))</span>

<div class="viewcode-block" id="OMEXML.OriginalMetadata.keys"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.OriginalMetadata.keys">[docs]</a>        <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">key</span>
                    <span class="k">for</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                    <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sa</span><span class="o">.</span><span class="n">iter_original_metadata</span><span class="p">()]</span></div>

<div class="viewcode-block" id="OMEXML.OriginalMetadata.has_key"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.OriginalMetadata.has_key">[docs]</a>        <span class="k">def</span> <span class="nf">has_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sa</span><span class="o">.</span><span class="n">iter_original_metadata</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="OMEXML.OriginalMetadata.iteritems"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.OriginalMetadata.iteritems">[docs]</a>        <span class="k">def</span> <span class="nf">iteritems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">annotation_id</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sa</span><span class="o">.</span><span class="n">iter_original_metadata</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span></div></div>

<div class="viewcode-block" id="OMEXML.PlatesDucktype"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.PlatesDucktype">[docs]</a>    <span class="k">class</span> <span class="nc">PlatesDucktype</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;It looks like a list of plates&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="n">plates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Plate&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">OMEXML</span><span class="o">.</span><span class="n">Plate</span><span class="p">(</span><span class="n">plate</span><span class="p">)</span> <span class="k">for</span> <span class="n">plate</span> <span class="ow">in</span> <span class="n">plates</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Plate</span><span class="p">(</span><span class="n">plates</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

        <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Plate&quot;</span><span class="p">)))</span>

        <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">plate</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">iterfind</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Plate&quot;</span><span class="p">)):</span>
                <span class="k">yield</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Plate</span><span class="p">(</span><span class="n">plate</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.PlatesDucktype.newPlate"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.PlatesDucktype.newPlate">[docs]</a>        <span class="k">def</span> <span class="nf">newPlate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">plate_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())):</span>
            <span class="n">new_plate_node</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Plate&quot;</span><span class="p">))</span>
            <span class="n">new_plate</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Plate</span><span class="p">(</span><span class="n">new_plate_node</span><span class="p">)</span>
            <span class="n">new_plate</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="n">plate_id</span>
            <span class="n">new_plate</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="k">return</span> <span class="n">new_plate</span></div></div>

<div class="viewcode-block" id="OMEXML.Plate"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate">[docs]</a>    <span class="k">class</span> <span class="nc">Plate</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The SPW:Plate element</span>

<span class="sd">        This represents the plate element of the SPW schema:</span>
<span class="sd">        http://www.openmicroscopy.org/Schemas/SPW/2007-06/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_ID">[docs]</a>        <span class="k">def</span> <span class="nf">get_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_ID">[docs]</a>        <span class="k">def</span> <span class="nf">set_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">ID</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ID</span><span class="p">,</span> <span class="n">set_ID</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_Name"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_Name">[docs]</a>        <span class="k">def</span> <span class="nf">get_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_Name"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_Name">[docs]</a>        <span class="k">def</span> <span class="nf">set_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">Name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Name</span><span class="p">,</span> <span class="n">set_Name</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_Status"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_Status">[docs]</a>        <span class="k">def</span> <span class="nf">get_Status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Status&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_Status"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_Status">[docs]</a>        <span class="k">def</span> <span class="nf">set_Status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">Status</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Status</span><span class="p">,</span> <span class="n">set_Status</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_ExternalIdentifier"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_ExternalIdentifier">[docs]</a>        <span class="k">def</span> <span class="nf">get_ExternalIdentifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ExternalIdentifier&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_ExternalIdentifier"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_ExternalIdentifier">[docs]</a>        <span class="k">def</span> <span class="nf">set_ExternalIdentifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ExternalIdentifier&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">ExternalIdentifier</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ExternalIdentifier</span><span class="p">,</span> <span class="n">set_ExternalIdentifier</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_ColumnNamingConvention"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_ColumnNamingConvention">[docs]</a>        <span class="k">def</span> <span class="nf">get_ColumnNamingConvention</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="c1"># Consider a default if not defined of NC_NUMBER</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ColumnNamingConvention&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_ColumnNamingConvention"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_ColumnNamingConvention">[docs]</a>        <span class="k">def</span> <span class="nf">set_ColumnNamingConvention</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">(</span><span class="n">NC_LETTER</span><span class="p">,</span> <span class="n">NC_NUMBER</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ColumnNamingConvention&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
        <span class="n">ColumnNamingConvention</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ColumnNamingConvention</span><span class="p">,</span>
                                          <span class="n">set_ColumnNamingConvention</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_RowNamingConvention"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_RowNamingConvention">[docs]</a>        <span class="k">def</span> <span class="nf">get_RowNamingConvention</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="c1"># Consider a default if not defined of NC_LETTER</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;RowNamingConvention&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_RowNamingConvention"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_RowNamingConvention">[docs]</a>        <span class="k">def</span> <span class="nf">set_RowNamingConvention</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">assert</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">(</span><span class="n">NC_LETTER</span><span class="p">,</span> <span class="n">NC_NUMBER</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;RowNamingConvention&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
        <span class="n">RowNamingConvention</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_RowNamingConvention</span><span class="p">,</span>
                                       <span class="n">set_RowNamingConvention</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_WellOriginX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_WellOriginX">[docs]</a>        <span class="k">def</span> <span class="nf">get_WellOriginX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;WellOriginX&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_WellOriginX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_WellOriginX">[docs]</a>        <span class="k">def</span> <span class="nf">set_WellOriginX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;WellOriginX&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>
        <span class="n">WellOriginX</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_WellOriginX</span><span class="p">,</span> <span class="n">set_WellOriginX</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_WellOriginY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_WellOriginY">[docs]</a>        <span class="k">def</span> <span class="nf">get_WellOriginY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;WellOriginY&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_WellOriginY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_WellOriginY">[docs]</a>        <span class="k">def</span> <span class="nf">set_WellOriginY</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;WellOriginY&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>
        <span class="n">WellOriginY</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_WellOriginY</span><span class="p">,</span> <span class="n">set_WellOriginY</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_Rows"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_Rows">[docs]</a>        <span class="k">def</span> <span class="nf">get_Rows</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;Rows&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_Rows"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_Rows">[docs]</a>        <span class="k">def</span> <span class="nf">set_Rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Rows&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">Rows</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Rows</span><span class="p">,</span> <span class="n">set_Rows</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_Columns"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_Columns">[docs]</a>        <span class="k">def</span> <span class="nf">get_Columns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;Columns&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_Columns"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_Columns">[docs]</a>        <span class="k">def</span> <span class="nf">set_Columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Columns&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">Columns</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Columns</span><span class="p">,</span> <span class="n">set_Columns</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_Description"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_Description">[docs]</a>        <span class="k">def</span> <span class="nf">get_Description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Description&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">get_text</span><span class="p">(</span><span class="n">description</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Plate.set_Description"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.set_Description">[docs]</a>        <span class="k">def</span> <span class="nf">set_Description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">make_text_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Description&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span></div>
        <span class="n">Description</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Description</span><span class="p">,</span> <span class="n">set_Description</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_Well"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_Well">[docs]</a>        <span class="k">def</span> <span class="nf">get_Well</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;The well dictionary / list&#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">WellsDucktype</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>
        <span class="n">Well</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Well</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Plate.get_well_name"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Plate.get_well_name">[docs]</a>        <span class="k">def</span> <span class="nf">get_well_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">well</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;Get a well&#39;s name, using the row and column convention&#39;&#39;&#39;</span>
            <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
                <span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">convention</span> <span class="o">==</span> <span class="n">NC_NUMBER</span>
                <span class="k">else</span> <span class="s2">&quot;ABCDEFGHIJKLMNOP&quot;</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">convention</span>
                <span class="ow">in</span> <span class="p">((</span><span class="n">well</span><span class="o">.</span><span class="n">Row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RowNamingConvention</span> <span class="ow">or</span> <span class="n">NC_LETTER</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">well</span><span class="o">.</span><span class="n">Column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ColumnNamingConvention</span> <span class="ow">or</span> <span class="n">NC_NUMBER</span><span class="p">))])</span>
            <span class="k">return</span> <span class="n">result</span></div></div>

<div class="viewcode-block" id="OMEXML.WellsDucktype"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellsDucktype">[docs]</a>    <span class="k">class</span> <span class="nc">WellsDucktype</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The WellsDucktype lets you retrieve and create wells</span>

<span class="sd">        The WellsDucktype looks like a dictionary but lets you reference</span>
<span class="sd">        the wells in a plate using indexing. Types of indexes:</span>

<span class="sd">        list indexing: e.g. plate.Well[14] gets the 14th well as it appears</span>
<span class="sd">                       in the XML</span>
<span class="sd">        dictionary_indexing:</span>
<span class="sd">            by well name - e.g. plate.Well[&quot;A08&quot;]</span>
<span class="sd">            by row and column - e.g. plate.Well[1,3] (B03)</span>
<span class="sd">            by ID - e.g. plate.Well[&quot;Well:0:0:0&quot;]</span>
<span class="sd">        If the ducktype is unable to parse a well name, it assumes you&#39;re</span>
<span class="sd">        using an ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plate</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plate_node</span> <span class="o">=</span> <span class="n">plate</span><span class="o">.</span><span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plate</span> <span class="o">=</span> <span class="n">plate</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plate_node</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plate_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Well&quot;</span><span class="p">)))</span>

        <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="n">all_wells</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plate_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Well&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">OMEXML</span><span class="o">.</span><span class="n">Well</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">all_wells</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;__len__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">well</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Well</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">all_wells</span><span class="p">:</span>
                    <span class="n">well</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">w</span>
                    <span class="k">if</span> <span class="n">well</span><span class="o">.</span><span class="n">Row</span> <span class="o">==</span> <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">well</span><span class="o">.</span><span class="n">Column</span> <span class="o">==</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="k">return</span> <span class="n">well</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Well</span><span class="p">(</span><span class="n">all_wells</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
            <span class="n">well</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Well</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">all_wells</span><span class="p">:</span>
                <span class="n">well</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">w</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">plate</span><span class="o">.</span><span class="n">get_well_name</span><span class="p">(</span><span class="n">well</span><span class="p">)</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">well</span>
                <span class="k">if</span> <span class="n">well</span><span class="o">.</span><span class="n">ID</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">well</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Return the standard name for all wells on the plate</span>

<span class="sd">            for instance, &#39;B03&#39; for a well with Row=1, Column=2 for a plate</span>
<span class="sd">            with the standard row and column naming convention</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">all_wells</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plate_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Well&quot;</span><span class="p">))</span>
            <span class="n">well</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Well</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">all_wells</span><span class="p">:</span>
                <span class="n">well</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">w</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">plate</span><span class="o">.</span><span class="n">get_well_name</span><span class="p">(</span><span class="n">well</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellsDucktype.new"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellsDucktype.new">[docs]</a>        <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">well_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())):</span>
            <span class="sd">&quot;&quot;&quot;Create a new well at the given row and column</span>

<span class="sd">            row - index of well&#39;s row</span>
<span class="sd">            column - index of well&#39;s column</span>
<span class="sd">            well_id - the ID attribute for the well</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">well_node</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plate_node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;Well&quot;</span><span class="p">))</span>
            <span class="n">well</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">Well</span><span class="p">(</span><span class="n">well_node</span><span class="p">)</span>
            <span class="n">well</span><span class="o">.</span><span class="n">Row</span> <span class="o">=</span> <span class="n">row</span>
            <span class="n">well</span><span class="o">.</span><span class="n">Column</span> <span class="o">=</span> <span class="n">column</span>
            <span class="n">well</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="n">well_id</span>
            <span class="k">return</span> <span class="n">well</span></div></div>

<div class="viewcode-block" id="OMEXML.Well"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well">[docs]</a>    <span class="k">class</span> <span class="nc">Well</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>

<div class="viewcode-block" id="OMEXML.Well.get_Column"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.get_Column">[docs]</a>        <span class="k">def</span> <span class="nf">get_Column</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;Column&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Well.set_Column"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.set_Column">[docs]</a>        <span class="k">def</span> <span class="nf">set_Column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Column&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">Column</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Column</span><span class="p">,</span> <span class="n">set_Column</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Well.get_Row"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.get_Row">[docs]</a>        <span class="k">def</span> <span class="nf">get_Row</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;Row&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Well.set_Row"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.set_Row">[docs]</a>        <span class="k">def</span> <span class="nf">set_Row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Row&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">Row</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Row</span><span class="p">,</span> <span class="n">set_Row</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Well.get_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.get_ID">[docs]</a>        <span class="k">def</span> <span class="nf">get_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Well.set_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.set_ID">[docs]</a>        <span class="k">def</span> <span class="nf">set_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">ID</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ID</span><span class="p">,</span> <span class="n">set_ID</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Well.get_Sample"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.get_Sample">[docs]</a>        <span class="k">def</span> <span class="nf">get_Sample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">WellSampleDucktype</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span></div>

        <span class="n">Sample</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Sample</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Well.get_ExternalDescription"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.get_ExternalDescription">[docs]</a>        <span class="k">def</span> <span class="nf">get_ExternalDescription</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ExternalDescription&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Well.set_ExternalDescription"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.set_ExternalDescription">[docs]</a>        <span class="k">def</span> <span class="nf">set_ExternalDescription</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ExternalDescription&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">ExternalDescription</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ExternalDescription</span><span class="p">,</span> <span class="n">set_ExternalDescription</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Well.get_ExternalIdentifier"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.get_ExternalIdentifier">[docs]</a>        <span class="k">def</span> <span class="nf">get_ExternalIdentifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ExternalIdentifier&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.Well.set_ExternalIdentifier"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.set_ExternalIdentifier">[docs]</a>        <span class="k">def</span> <span class="nf">set_ExternalIdentifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ExternalIdentifier&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">ExternalIdentifier</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ExternalIdentifier</span><span class="p">,</span> <span class="n">set_ExternalIdentifier</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.Well.get_Color"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.get_Color">[docs]</a>        <span class="k">def</span> <span class="nf">get_Color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Color&quot;</span><span class="p">))</span></div>

<div class="viewcode-block" id="OMEXML.Well.set_Color"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.Well.set_Color">[docs]</a>        <span class="k">def</span> <span class="nf">set_Color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Color&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div></div>

<div class="viewcode-block" id="OMEXML.WellSampleDucktype"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSampleDucktype">[docs]</a>    <span class="k">class</span> <span class="nc">WellSampleDucktype</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The WellSample elements in a well</span>

<span class="sd">        This is made to look like an indexable list so that you can do</span>
<span class="sd">        things like:</span>
<span class="sd">        wellsamples[0:2]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">well_node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">well_node</span> <span class="o">=</span> <span class="n">well_node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">well_node</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">well_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;WellSample&quot;</span><span class="p">)))</span>

        <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="n">all_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">well_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;WellSample&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">OMEXML</span><span class="o">.</span><span class="n">WellSample</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">all_samples</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span>
            <span class="k">return</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">WellSample</span><span class="p">(</span><span class="n">all_samples</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">key</span><span class="p">)])</span>

        <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Iterate through the well samples.&quot;&quot;&quot;</span>
            <span class="n">all_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">well_node</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;WellSample&quot;</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">all_samples</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">WellSample</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellSampleDucktype.new"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSampleDucktype.new">[docs]</a>        <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wellsample_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()),</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Create a new well sample&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="nb">max</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">Index</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">new_node</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">well_node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;WellSample&quot;</span><span class="p">))</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">OMEXML</span><span class="o">.</span><span class="n">WellSample</span><span class="p">(</span><span class="n">new_node</span><span class="p">)</span>
            <span class="n">s</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="n">wellsample_id</span>
            <span class="n">s</span><span class="o">.</span><span class="n">Index</span> <span class="o">=</span> <span class="n">index</span></div></div>

<div class="viewcode-block" id="OMEXML.WellSample"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample">[docs]</a>    <span class="k">class</span> <span class="nc">WellSample</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The WellSample is a location within a well&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns</span> <span class="o">=</span> <span class="n">get_namespaces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellSample.get_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.get_ID">[docs]</a>        <span class="k">def</span> <span class="nf">get_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.WellSample.set_ID"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.set_ID">[docs]</a>        <span class="k">def</span> <span class="nf">set_ID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
        <span class="n">ID</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ID</span><span class="p">,</span> <span class="n">set_ID</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellSample.get_PositionX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.get_PositionX">[docs]</a>        <span class="k">def</span> <span class="nf">get_PositionX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PositionX&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.WellSample.set_PositionX"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.set_PositionX">[docs]</a>        <span class="k">def</span> <span class="nf">set_PositionX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PositionX&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PositionX</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PositionX</span><span class="p">,</span> <span class="n">set_PositionX</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellSample.get_PositionY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.get_PositionY">[docs]</a>        <span class="k">def</span> <span class="nf">get_PositionY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_float_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;PositionY&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.WellSample.set_PositionY"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.set_PositionY">[docs]</a>        <span class="k">def</span> <span class="nf">set_PositionY</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;PositionY&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">PositionY</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_PositionY</span><span class="p">,</span> <span class="n">set_PositionY</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellSample.get_Timepoint"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.get_Timepoint">[docs]</a>        <span class="k">def</span> <span class="nf">get_Timepoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Timepoint&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.WellSample.set_Timepoint"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.set_Timepoint">[docs]</a>        <span class="k">def</span> <span class="nf">set_Timepoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Timepoint&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">Timepoint</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Timepoint</span><span class="p">,</span> <span class="n">set_Timepoint</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellSample.get_Index"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.get_Index">[docs]</a>        <span class="k">def</span> <span class="nf">get_Index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">get_int_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;Index&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.WellSample.set_Index"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.set_Index">[docs]</a>        <span class="k">def</span> <span class="nf">set_Index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Index&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>

        <span class="n">Index</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_Index</span><span class="p">,</span> <span class="n">set_Index</span><span class="p">)</span>

<div class="viewcode-block" id="OMEXML.WellSample.get_ImageRef"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.get_ImageRef">[docs]</a>        <span class="k">def</span> <span class="nf">get_ImageRef</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;Get the ID of the image of this site&#39;&#39;&#39;</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;ImageRef&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">ref</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OMEXML.WellSample.set_ImageRef"><a class="viewcode-back" href="../../../aicsimageio.vendor.html#aicsimageio.vendor.omexml.OMEXML.WellSample.set_ImageRef">[docs]</a>        <span class="k">def</span> <span class="nf">set_ImageRef</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;Add a reference to the image of this site&#39;&#39;&#39;</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;ImageRef&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">ref</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ref</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">qn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">[</span><span class="s1">&#39;spw&#39;</span><span class="p">],</span> <span class="s2">&quot;ImageRef&quot;</span><span class="p">))</span>
            <span class="n">ref</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

        <span class="n">ImageRef</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_ImageRef</span><span class="p">,</span> <span class="n">set_ImageRef</span><span class="p">)</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Allen Institute for Cell Science.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>